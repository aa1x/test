<!DOCTYPE html>
<html lang="zh">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>题库搜索</title>
<style>
body{font-family:"微软雅黑",Arial,sans-serif;background:#f0f2f5;margin:0;padding:20px}
h1{text-align:center;color:#333}
#search{display:block;margin:20px auto;padding:10px;width:90%;max-width:500px;font-size:16px;border-radius:5px;border:1px solid #ccc}
#results{display:flex;flex-direction:column;align-items:center}
.qa{background:#fff;border-radius:8px;padding:15px;margin:10px;width:95%;max-width:700px;box-shadow:0 2px 8px rgba(0,0,0,.1)}
.question,.answer-text{font-size:16px;margin-bottom:5px}
.question{font-weight:bold}
.separator{height:1px;background:#3498db;margin:10px 0;border-radius:2px}
img,audio{display:block;max-width:100%;margin-top:5px;border-radius:5px}
#loading{display:flex;justify-content:center;align-items:center;height:200px}
.spinner{border:6px solid #f3f3f3;border-top:6px solid #3498db;border-radius:50%;width:50px;height:50px;animation:spin 1s linear infinite}
@keyframes spin{100%{transform:rotate(360deg)}}
</style>
</head>
<body>
<h1>题库搜索</h1>
<input id="search" placeholder="输入关键词搜索题目...">
<div id="loading"><div class="spinner"></div></div>
<div id="results" style="display:none"></div>
<script>
let data={}
fetch("https://gh-proxy.org/https://github.com/89156/GSTA/raw/refs/heads/main/quiz_db.json")
.then(r=>r.json()).then(d=>{data=d;document.getElementById('loading').style.display='none';document.getElementById('results').style.display='flex';show("")})
.catch(e=>document.getElementById("loading").innerText="加载失败")
document.getElementById("search").addEventListener("input",e=>show(e.target.value.trim()))
function render(t){let txt=[],med=[];t.split("|").forEach(p=>{if(p.startsWith("img:"))med.push(`<img src="${p.slice(4)}">`);else if(p.startsWith("audio:"))med.push(`<audio controls src="${p.slice(6)}"></audio>`);else txt.push(`<span>${p}</span>`)});return{text:txt.join(" "),media:med.join("")}} 
function show(k){let r=document.getElementById("results");r.innerHTML="";Object.entries(data).filter(([q])=>q.includes(k)).forEach(([q,a])=>{let Q=render(q),A=render(a);let div=document.createElement("div");div.className="qa";div.innerHTML=`<div class="question">${Q.text}${Q.media}</div><div class="separator"></div><div class="answer-text">${A.text}${A.media}</div>`;r.appendChild(div)})}
</script>
</body>
</html>



